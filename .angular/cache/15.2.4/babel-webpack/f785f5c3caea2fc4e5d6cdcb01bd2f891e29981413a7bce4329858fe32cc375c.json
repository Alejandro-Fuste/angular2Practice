{"ast":null,"code":"import { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./log.service\";\nexport class StarWarsService {\n  constructor(logSer) {\n    this.characters = [{\n      name: \"Luke Skywalker\",\n      side: \"\"\n    }, {\n      name: \"Darth Vader\",\n      side: \"\"\n    }];\n    this.charactersChanged = new Subject();\n    this.logService = logSer;\n  }\n  getCharacters(chosenList) {\n    if (chosenList === \"all\") {\n      return this.characters.slice();\n    }\n    return this.characters.filter(char => {\n      return char.side === chosenList;\n    });\n  }\n  onSideChosen(charInfo) {\n    const position = this.characters.findIndex(char => {\n      return char.name === charInfo.name;\n    });\n    this.characters[position].side = charInfo.side;\n    this.charactersChanged.next();\n    this.logService.writeLog(`Changed side of ${charInfo.name} to new side: ${charInfo.side}`);\n  }\n  addCharacters(name, side) {\n    const position = this.characters.findIndex(char => {\n      return char.name === name;\n    });\n    if (position !== -1) return;\n    const newCharacter = {\n      name,\n      side\n    };\n    this.characters.push(newCharacter);\n  }\n}\nStarWarsService.ɵfac = function StarWarsService_Factory(t) {\n  return new (t || StarWarsService)(i0.ɵɵinject(i1.LogService));\n};\nStarWarsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: StarWarsService,\n  factory: StarWarsService.ɵfac\n});","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,MAAM;;;AAG9B,OAAM,MAAOC,eAAe;EAU1BC,YAAYC,MAAkB;IATtB,eAAU,GAAoB,CACpC;MAAEC,IAAI,EAAE,gBAAgB;MAAEC,IAAI,EAAE;IAAE,CAAE,EACpC;MAAED,IAAI,EAAE,aAAa;MAAEC,IAAI,EAAE;IAAE,CAAE,CAClC;IAID,sBAAiB,GAAG,IAAIL,OAAO,EAAQ;IAGrC,IAAI,CAACM,UAAU,GAAGH,MAAM;EAC1B;EAEAI,aAAa,CAACC,UAAkB;IAC9B,IAAIA,UAAU,KAAK,KAAK,EAAE;MACxB,OAAO,IAAI,CAACC,UAAU,CAACC,KAAK,EAAE;;IAEhC,OAAO,IAAI,CAACD,UAAU,CAACE,MAAM,CAAEC,IAAI,IAAI;MACrC,OAAOA,IAAI,CAACP,IAAI,KAAKG,UAAU;IACjC,CAAC,CAAC;EACJ;EAEAK,YAAY,CAACC,QAAa;IACxB,MAAMC,QAAQ,GAAG,IAAI,CAACN,UAAU,CAACO,SAAS,CAAEJ,IAAI,IAAI;MAClD,OAAOA,IAAI,CAACR,IAAI,KAAKU,QAAQ,CAACV,IAAI;IACpC,CAAC,CAAC;IACF,IAAI,CAACK,UAAU,CAACM,QAAQ,CAAC,CAACV,IAAI,GAAGS,QAAQ,CAACT,IAAI;IAC9C,IAAI,CAACY,iBAAiB,CAACC,IAAI,EAAE;IAC7B,IAAI,CAACZ,UAAU,CAACa,QAAQ,CACtB,mBAAmBL,QAAQ,CAACV,IAAI,iBAAiBU,QAAQ,CAACT,IAAI,EAAE,CACjE;EACH;EAEAe,aAAa,CAAChB,IAAY,EAAEC,IAAY;IACtC,MAAMU,QAAQ,GAAG,IAAI,CAACN,UAAU,CAACO,SAAS,CAAEJ,IAAI,IAAI;MAClD,OAAOA,IAAI,CAACR,IAAI,KAAKA,IAAI;IAC3B,CAAC,CAAC;IAEF,IAAIW,QAAQ,KAAK,CAAC,CAAC,EAAE;IAErB,MAAMM,YAAY,GAAkB;MAAEjB,IAAI;MAAEC;IAAI,CAAE;IAClD,IAAI,CAACI,UAAU,CAACa,IAAI,CAACD,YAAY,CAAC;EACpC;;AA3CWpB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;SAAfA,eAAe;EAAAsB,SAAftB,eAAe;AAAA","names":["Subject","StarWarsService","constructor","logSer","name","side","logService","getCharacters","chosenList","characters","slice","filter","char","onSideChosen","charInfo","position","findIndex","charactersChanged","next","writeLog","addCharacters","newCharacter","push","factory"],"sourceRoot":"","sources":["/Users/alejandro/Desktop/projects/angular2Practice/src/app/star-wars.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { characterType } from \"../types/character\";\nimport { LogService } from \"./log.service\";\nimport { Subject } from \"rxjs\";\n\n@Injectable()\nexport class StarWarsService {\n  private characters: characterType[] = [\n    { name: \"Luke Skywalker\", side: \"\" },\n    { name: \"Darth Vader\", side: \"\" },\n  ];\n\n  private logService: LogService;\n\n  charactersChanged = new Subject<void>();\n\n  constructor(logSer: LogService) {\n    this.logService = logSer;\n  }\n\n  getCharacters(chosenList: string) {\n    if (chosenList === \"all\") {\n      return this.characters.slice();\n    }\n    return this.characters.filter((char) => {\n      return char.side === chosenList;\n    });\n  }\n\n  onSideChosen(charInfo: any) {\n    const position = this.characters.findIndex((char) => {\n      return char.name === charInfo.name;\n    });\n    this.characters[position].side = charInfo.side;\n    this.charactersChanged.next();\n    this.logService.writeLog(\n      `Changed side of ${charInfo.name} to new side: ${charInfo.side}`\n    );\n  }\n\n  addCharacters(name: string, side: string) {\n    const position = this.characters.findIndex((char) => {\n      return char.name === name;\n    });\n\n    if (position !== -1) return;\n\n    const newCharacter: characterType = { name, side };\n    this.characters.push(newCharacter);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}